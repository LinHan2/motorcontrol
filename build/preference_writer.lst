ARM GAS  C:\Users\16323\AppData\Local\Temp\ccmVVPes.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 6
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"preference_writer.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.data.__SECTOR_ADDRS,"aw"
  20              		.align	2
  23              	__SECTOR_ADDRS:
  24 0000 00000008 		.word	134217728
  25 0004 00400008 		.word	134234112
  26 0008 00800008 		.word	134250496
  27 000c 00C00008 		.word	134266880
  28 0010 00000108 		.word	134283264
  29 0014 00000208 		.word	134348800
  30 0018 00000408 		.word	134479872
  31 001c 00000608 		.word	134610944
  32              		.section	.data.__SECTORS,"aw"
  33              		.align	2
  36              	__SECTORS:
  37 0000 00000000 		.word	0
  38 0004 08000000 		.word	8
  39 0008 10000000 		.word	16
  40 000c 18000000 		.word	24
  41 0010 20000000 		.word	32
  42 0014 30000000 		.word	48
  43 0018 30000000 		.word	48
  44 001c 38000000 		.word	56
  45              		.section	.text.preference_writer_init,"ax",%progbits
  46              		.align	1
  47              		.global	preference_writer_init
  48              		.syntax unified
  49              		.thumb
  50              		.thumb_func
  52              	preference_writer_init:
  53              	.LFB239:
  54              		.file 1 "Core/Src/preference_writer.c"
   1:Core/Src/preference_writer.c **** /*
   2:Core/Src/preference_writer.c ****  * preference_writer.c
   3:Core/Src/preference_writer.c ****  *
   4:Core/Src/preference_writer.c ****  *  Created on: Apr 13, 2020
   5:Core/Src/preference_writer.c ****  *      Author: ben
   6:Core/Src/preference_writer.c ****  */
   7:Core/Src/preference_writer.c **** 
   8:Core/Src/preference_writer.c **** 
ARM GAS  C:\Users\16323\AppData\Local\Temp\ccmVVPes.s 			page 2


   9:Core/Src/preference_writer.c **** #include "preference_writer.h"
  10:Core/Src/preference_writer.c **** #include "flash_writer.h"
  11:Core/Src/preference_writer.c **** #include "user_config.h"
  12:Core/Src/preference_writer.c **** /*
  13:Core/Src/preference_writer.c **** PreferenceWriter::PreferenceWriter(uint32_t sector) {
  14:Core/Src/preference_writer.c ****     writer = new FlashWriter(sector);
  15:Core/Src/preference_writer.c ****     __sector = sector;
  16:Core/Src/preference_writer.c ****     __ready = false;
  17:Core/Src/preference_writer.c **** }
  18:Core/Src/preference_writer.c **** */
  19:Core/Src/preference_writer.c **** 
  20:Core/Src/preference_writer.c **** void preference_writer_init(PreferenceWriter * pr, uint32_t sector){
  55              		.loc 1 20 68
  56              		.cfi_startproc
  57              		@ args = 0, pretend = 0, frame = 8
  58              		@ frame_needed = 1, uses_anonymous_args = 0
  59 0000 80B5     		push	{r7, lr}
  60              	.LCFI0:
  61              		.cfi_def_cfa_offset 8
  62              		.cfi_offset 7, -8
  63              		.cfi_offset 14, -4
  64 0002 82B0     		sub	sp, sp, #8
  65              	.LCFI1:
  66              		.cfi_def_cfa_offset 16
  67 0004 00AF     		add	r7, sp, #0
  68              	.LCFI2:
  69              		.cfi_def_cfa_register 7
  70 0006 7860     		str	r0, [r7, #4]
  71 0008 3960     		str	r1, [r7]
  21:Core/Src/preference_writer.c **** 	flash_writer_init(&pr->fw, sector);
  72              		.loc 1 21 2
  73 000a 7B68     		ldr	r3, [r7, #4]
  74 000c 3968     		ldr	r1, [r7]
  75 000e 1846     		mov	r0, r3
  76 0010 FFF7FEFF 		bl	flash_writer_init
  22:Core/Src/preference_writer.c **** 	pr->sector = sector;
  77              		.loc 1 22 13
  78 0014 7B68     		ldr	r3, [r7, #4]
  79 0016 3A68     		ldr	r2, [r7]
  80 0018 DA60     		str	r2, [r3, #12]
  23:Core/Src/preference_writer.c **** }
  81              		.loc 1 23 1
  82 001a 00BF     		nop
  83 001c 0837     		adds	r7, r7, #8
  84              	.LCFI3:
  85              		.cfi_def_cfa_offset 8
  86 001e BD46     		mov	sp, r7
  87              	.LCFI4:
  88              		.cfi_def_cfa_register 13
  89              		@ sp needed
  90 0020 80BD     		pop	{r7, pc}
  91              		.cfi_endproc
  92              	.LFE239:
  94              		.section	.text.preference_writer_open,"ax",%progbits
  95              		.align	1
  96              		.global	preference_writer_open
  97              		.syntax unified
ARM GAS  C:\Users\16323\AppData\Local\Temp\ccmVVPes.s 			page 3


  98              		.thumb
  99              		.thumb_func
 101              	preference_writer_open:
 102              	.LFB240:
  24:Core/Src/preference_writer.c **** 
  25:Core/Src/preference_writer.c **** 
  26:Core/Src/preference_writer.c **** void preference_writer_open(PreferenceWriter * pr) {
 103              		.loc 1 26 52
 104              		.cfi_startproc
 105              		@ args = 0, pretend = 0, frame = 8
 106              		@ frame_needed = 1, uses_anonymous_args = 0
 107 0000 80B5     		push	{r7, lr}
 108              	.LCFI5:
 109              		.cfi_def_cfa_offset 8
 110              		.cfi_offset 7, -8
 111              		.cfi_offset 14, -4
 112 0002 82B0     		sub	sp, sp, #8
 113              	.LCFI6:
 114              		.cfi_def_cfa_offset 16
 115 0004 00AF     		add	r7, sp, #0
 116              	.LCFI7:
 117              		.cfi_def_cfa_register 7
 118 0006 7860     		str	r0, [r7, #4]
  27:Core/Src/preference_writer.c ****     flash_writer_open(&pr->fw);
 119              		.loc 1 27 5
 120 0008 7B68     		ldr	r3, [r7, #4]
 121 000a 1846     		mov	r0, r3
 122 000c FFF7FEFF 		bl	flash_writer_open
  28:Core/Src/preference_writer.c ****     pr->ready = true;
 123              		.loc 1 28 15
 124 0010 7B68     		ldr	r3, [r7, #4]
 125 0012 0122     		movs	r2, #1
 126 0014 1A74     		strb	r2, [r3, #16]
  29:Core/Src/preference_writer.c **** }
 127              		.loc 1 29 1
 128 0016 00BF     		nop
 129 0018 0837     		adds	r7, r7, #8
 130              	.LCFI8:
 131              		.cfi_def_cfa_offset 8
 132 001a BD46     		mov	sp, r7
 133              	.LCFI9:
 134              		.cfi_def_cfa_register 13
 135              		@ sp needed
 136 001c 80BD     		pop	{r7, pc}
 137              		.cfi_endproc
 138              	.LFE240:
 140              		.section	.text.preference_writer_ready,"ax",%progbits
 141              		.align	1
 142              		.global	preference_writer_ready
 143              		.syntax unified
 144              		.thumb
 145              		.thumb_func
 147              	preference_writer_ready:
 148              	.LFB241:
  30:Core/Src/preference_writer.c **** 
  31:Core/Src/preference_writer.c **** bool  preference_writer_ready(PreferenceWriter pr) {
 149              		.loc 1 31 52
ARM GAS  C:\Users\16323\AppData\Local\Temp\ccmVVPes.s 			page 4


 150              		.cfi_startproc
 151              		@ args = 20, pretend = 16, frame = 0
 152              		@ frame_needed = 1, uses_anonymous_args = 0
 153              		@ link register save eliminated.
 154 0000 84B0     		sub	sp, sp, #16
 155              	.LCFI10:
 156              		.cfi_def_cfa_offset 16
 157 0002 90B4     		push	{r4, r7}
 158              	.LCFI11:
 159              		.cfi_def_cfa_offset 24
 160              		.cfi_offset 4, -24
 161              		.cfi_offset 7, -20
 162 0004 00AF     		add	r7, sp, #0
 163              	.LCFI12:
 164              		.cfi_def_cfa_register 7
 165 0006 07F10804 		add	r4, r7, #8
 166 000a 84E80F00 		stm	r4, {r0, r1, r2, r3}
  32:Core/Src/preference_writer.c ****     return pr.ready;
 167              		.loc 1 32 14
 168 000e 3B7E     		ldrb	r3, [r7, #24]	@ zero_extendqisi2
  33:Core/Src/preference_writer.c **** }
 169              		.loc 1 33 1
 170 0010 1846     		mov	r0, r3
 171 0012 BD46     		mov	sp, r7
 172              	.LCFI13:
 173              		.cfi_def_cfa_register 13
 174              		@ sp needed
 175 0014 90BC     		pop	{r4, r7}
 176              	.LCFI14:
 177              		.cfi_restore 7
 178              		.cfi_restore 4
 179              		.cfi_def_cfa_offset 16
 180 0016 04B0     		add	sp, sp, #16
 181              	.LCFI15:
 182              		.cfi_def_cfa_offset 0
 183 0018 7047     		bx	lr
 184              		.cfi_endproc
 185              	.LFE241:
 187              		.section	.text.preference_writer_write_int,"ax",%progbits
 188              		.align	1
 189              		.global	preference_writer_write_int
 190              		.syntax unified
 191              		.thumb
 192              		.thumb_func
 194              	preference_writer_write_int:
 195              	.LFB242:
  34:Core/Src/preference_writer.c **** 
  35:Core/Src/preference_writer.c **** void preference_writer_write_int(int x, int index) {
 196              		.loc 1 35 52
 197              		.cfi_startproc
 198              		@ args = 0, pretend = 0, frame = 8
 199              		@ frame_needed = 1, uses_anonymous_args = 0
 200              		@ link register save eliminated.
 201 0000 80B4     		push	{r7}
 202              	.LCFI16:
 203              		.cfi_def_cfa_offset 4
 204              		.cfi_offset 7, -4
ARM GAS  C:\Users\16323\AppData\Local\Temp\ccmVVPes.s 			page 5


 205 0002 83B0     		sub	sp, sp, #12
 206              	.LCFI17:
 207              		.cfi_def_cfa_offset 16
 208 0004 00AF     		add	r7, sp, #0
 209              	.LCFI18:
 210              		.cfi_def_cfa_register 7
 211 0006 7860     		str	r0, [r7, #4]
 212 0008 3960     		str	r1, [r7]
  36:Core/Src/preference_writer.c ****     __int_reg[index] = x;
 213              		.loc 1 36 22
 214 000a 0549     		ldr	r1, .L6
 215 000c 3B68     		ldr	r3, [r7]
 216 000e 7A68     		ldr	r2, [r7, #4]
 217 0010 41F82320 		str	r2, [r1, r3, lsl #2]
  37:Core/Src/preference_writer.c **** }
 218              		.loc 1 37 1
 219 0014 00BF     		nop
 220 0016 0C37     		adds	r7, r7, #12
 221              	.LCFI19:
 222              		.cfi_def_cfa_offset 4
 223 0018 BD46     		mov	sp, r7
 224              	.LCFI20:
 225              		.cfi_def_cfa_register 13
 226              		@ sp needed
 227 001a 5DF8047B 		ldr	r7, [sp], #4
 228              	.LCFI21:
 229              		.cfi_restore 7
 230              		.cfi_def_cfa_offset 0
 231 001e 7047     		bx	lr
 232              	.L7:
 233              		.align	2
 234              	.L6:
 235 0020 00000000 		.word	__int_reg
 236              		.cfi_endproc
 237              	.LFE242:
 239              		.section	.text.preference_writer_write_float,"ax",%progbits
 240              		.align	1
 241              		.global	preference_writer_write_float
 242              		.syntax unified
 243              		.thumb
 244              		.thumb_func
 246              	preference_writer_write_float:
 247              	.LFB243:
  38:Core/Src/preference_writer.c **** 
  39:Core/Src/preference_writer.c **** void preference_writer_write_float(float x, int index) {
 248              		.loc 1 39 56
 249              		.cfi_startproc
 250              		@ args = 0, pretend = 0, frame = 8
 251              		@ frame_needed = 1, uses_anonymous_args = 0
 252              		@ link register save eliminated.
 253 0000 80B4     		push	{r7}
 254              	.LCFI22:
 255              		.cfi_def_cfa_offset 4
 256              		.cfi_offset 7, -4
 257 0002 83B0     		sub	sp, sp, #12
 258              	.LCFI23:
 259              		.cfi_def_cfa_offset 16
ARM GAS  C:\Users\16323\AppData\Local\Temp\ccmVVPes.s 			page 6


 260 0004 00AF     		add	r7, sp, #0
 261              	.LCFI24:
 262              		.cfi_def_cfa_register 7
 263 0006 87ED010A 		vstr.32	s0, [r7, #4]
 264 000a 3860     		str	r0, [r7]
  40:Core/Src/preference_writer.c ****     __float_reg[index] = x;
 265              		.loc 1 40 24
 266 000c 054A     		ldr	r2, .L9
 267 000e 3B68     		ldr	r3, [r7]
 268 0010 9B00     		lsls	r3, r3, #2
 269 0012 1344     		add	r3, r3, r2
 270 0014 7A68     		ldr	r2, [r7, #4]	@ float
 271 0016 1A60     		str	r2, [r3]	@ float
  41:Core/Src/preference_writer.c **** }
 272              		.loc 1 41 1
 273 0018 00BF     		nop
 274 001a 0C37     		adds	r7, r7, #12
 275              	.LCFI25:
 276              		.cfi_def_cfa_offset 4
 277 001c BD46     		mov	sp, r7
 278              	.LCFI26:
 279              		.cfi_def_cfa_register 13
 280              		@ sp needed
 281 001e 5DF8047B 		ldr	r7, [sp], #4
 282              	.LCFI27:
 283              		.cfi_restore 7
 284              		.cfi_def_cfa_offset 0
 285 0022 7047     		bx	lr
 286              	.L10:
 287              		.align	2
 288              	.L9:
 289 0024 00000000 		.word	__float_reg
 290              		.cfi_endproc
 291              	.LFE243:
 293              		.section	.text.preference_writer_flush,"ax",%progbits
 294              		.align	1
 295              		.global	preference_writer_flush
 296              		.syntax unified
 297              		.thumb
 298              		.thumb_func
 300              	preference_writer_flush:
 301              	.LFB244:
  42:Core/Src/preference_writer.c **** 
  43:Core/Src/preference_writer.c **** void preference_writer_flush(PreferenceWriter * pr) {
 302              		.loc 1 43 53
 303              		.cfi_startproc
 304              		@ args = 0, pretend = 0, frame = 16
 305              		@ frame_needed = 1, uses_anonymous_args = 0
 306 0000 80B5     		push	{r7, lr}
 307              	.LCFI28:
 308              		.cfi_def_cfa_offset 8
 309              		.cfi_offset 7, -8
 310              		.cfi_offset 14, -4
 311 0002 86B0     		sub	sp, sp, #24
 312              	.LCFI29:
 313              		.cfi_def_cfa_offset 32
 314 0004 02AF     		add	r7, sp, #8
ARM GAS  C:\Users\16323\AppData\Local\Temp\ccmVVPes.s 			page 7


 315              	.LCFI30:
 316              		.cfi_def_cfa 7, 24
 317 0006 7860     		str	r0, [r7, #4]
  44:Core/Src/preference_writer.c ****     int offs;
  45:Core/Src/preference_writer.c ****     for (offs = 0; offs < 256; offs++) {
 318              		.loc 1 45 15
 319 0008 0023     		movs	r3, #0
 320 000a FB60     		str	r3, [r7, #12]
 321              		.loc 1 45 5
 322 000c 0DE0     		b	.L12
 323              	.L13:
  46:Core/Src/preference_writer.c ****         flash_writer_write_int(pr->fw, offs, __int_reg[offs]);
 324              		.loc 1 46 9 discriminator 3
 325 000e F968     		ldr	r1, [r7, #12]
 326 0010 174A     		ldr	r2, .L16
 327 0012 FB68     		ldr	r3, [r7, #12]
 328 0014 52F82330 		ldr	r3, [r2, r3, lsl #2]
 329 0018 7A68     		ldr	r2, [r7, #4]
 330 001a 0093     		str	r3, [sp]
 331 001c 0B46     		mov	r3, r1
 332 001e 07CA     		ldm	r2, {r0, r1, r2}
 333 0020 FFF7FEFF 		bl	flash_writer_write_int
  45:Core/Src/preference_writer.c ****         flash_writer_write_int(pr->fw, offs, __int_reg[offs]);
 334              		.loc 1 45 36 discriminator 3
 335 0024 FB68     		ldr	r3, [r7, #12]
 336 0026 0133     		adds	r3, r3, #1
 337 0028 FB60     		str	r3, [r7, #12]
 338              	.L12:
  45:Core/Src/preference_writer.c ****         flash_writer_write_int(pr->fw, offs, __int_reg[offs]);
 339              		.loc 1 45 5 discriminator 1
 340 002a FB68     		ldr	r3, [r7, #12]
 341 002c FF2B     		cmp	r3, #255
 342 002e EEDD     		ble	.L13
  47:Core/Src/preference_writer.c ****     }
  48:Core/Src/preference_writer.c ****     for (; offs < 320; offs++) {
 343              		.loc 1 48 5
 344 0030 12E0     		b	.L14
 345              	.L15:
  49:Core/Src/preference_writer.c ****         flash_writer_write_float(pr->fw, offs, __float_reg[offs - 256]);
 346              		.loc 1 49 9 discriminator 2
 347 0032 F968     		ldr	r1, [r7, #12]
 348              		.loc 1 49 65 discriminator 2
 349 0034 FB68     		ldr	r3, [r7, #12]
 350 0036 A3F58073 		sub	r3, r3, #256
 351              		.loc 1 49 9 discriminator 2
 352 003a 0E4A     		ldr	r2, .L16+4
 353 003c 9B00     		lsls	r3, r3, #2
 354 003e 1344     		add	r3, r3, r2
 355 0040 D3ED007A 		vldr.32	s15, [r3]
 356 0044 7A68     		ldr	r2, [r7, #4]
 357 0046 B0EE670A 		vmov.f32	s0, s15
 358 004a 0B46     		mov	r3, r1
 359 004c 07CA     		ldm	r2, {r0, r1, r2}
 360 004e FFF7FEFF 		bl	flash_writer_write_float
  48:Core/Src/preference_writer.c ****         flash_writer_write_float(pr->fw, offs, __float_reg[offs - 256]);
 361              		.loc 1 48 28 discriminator 2
 362 0052 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\16323\AppData\Local\Temp\ccmVVPes.s 			page 8


 363 0054 0133     		adds	r3, r3, #1
 364 0056 FB60     		str	r3, [r7, #12]
 365              	.L14:
  48:Core/Src/preference_writer.c ****         flash_writer_write_float(pr->fw, offs, __float_reg[offs - 256]);
 366              		.loc 1 48 5 discriminator 1
 367 0058 FB68     		ldr	r3, [r7, #12]
 368 005a B3F5A07F 		cmp	r3, #320
 369 005e E8DB     		blt	.L15
  50:Core/Src/preference_writer.c ****     }
  51:Core/Src/preference_writer.c ****     pr->ready = false;
 370              		.loc 1 51 15
 371 0060 7B68     		ldr	r3, [r7, #4]
 372 0062 0022     		movs	r2, #0
 373 0064 1A74     		strb	r2, [r3, #16]
  52:Core/Src/preference_writer.c **** }
 374              		.loc 1 52 1
 375 0066 00BF     		nop
 376 0068 1037     		adds	r7, r7, #16
 377              	.LCFI31:
 378              		.cfi_def_cfa_offset 8
 379 006a BD46     		mov	sp, r7
 380              	.LCFI32:
 381              		.cfi_def_cfa_register 13
 382              		@ sp needed
 383 006c 80BD     		pop	{r7, pc}
 384              	.L17:
 385 006e 00BF     		.align	2
 386              	.L16:
 387 0070 00000000 		.word	__int_reg
 388 0074 00000000 		.word	__float_reg
 389              		.cfi_endproc
 390              	.LFE244:
 392              		.section	.text.preference_writer_load,"ax",%progbits
 393              		.align	1
 394              		.global	preference_writer_load
 395              		.syntax unified
 396              		.thumb
 397              		.thumb_func
 399              	preference_writer_load:
 400              	.LFB245:
  53:Core/Src/preference_writer.c **** 
  54:Core/Src/preference_writer.c **** void preference_writer_load(PreferenceWriter pr) {
 401              		.loc 1 54 50
 402              		.cfi_startproc
 403              		@ args = 20, pretend = 16, frame = 8
 404              		@ frame_needed = 1, uses_anonymous_args = 0
 405 0000 84B0     		sub	sp, sp, #16
 406              	.LCFI33:
 407              		.cfi_def_cfa_offset 16
 408 0002 90B5     		push	{r4, r7, lr}
 409              	.LCFI34:
 410              		.cfi_def_cfa_offset 28
 411              		.cfi_offset 4, -28
 412              		.cfi_offset 7, -24
 413              		.cfi_offset 14, -20
 414 0004 83B0     		sub	sp, sp, #12
 415              	.LCFI35:
ARM GAS  C:\Users\16323\AppData\Local\Temp\ccmVVPes.s 			page 9


 416              		.cfi_def_cfa_offset 40
 417 0006 00AF     		add	r7, sp, #0
 418              	.LCFI36:
 419              		.cfi_def_cfa_register 7
 420 0008 07F11804 		add	r4, r7, #24
 421 000c 84E80F00 		stm	r4, {r0, r1, r2, r3}
  55:Core/Src/preference_writer.c ****     int offs;
  56:Core/Src/preference_writer.c ****     for (offs = 0; offs < 256; offs++) {
 422              		.loc 1 56 15
 423 0010 0023     		movs	r3, #0
 424 0012 7B60     		str	r3, [r7, #4]
 425              		.loc 1 56 5
 426 0014 0DE0     		b	.L19
 427              	.L20:
  57:Core/Src/preference_writer.c ****         __int_reg[offs] = flash_read_int(pr.fw, offs);
 428              		.loc 1 57 27 discriminator 3
 429 0016 7B68     		ldr	r3, [r7, #4]
 430 0018 07F11802 		add	r2, r7, #24
 431 001c 07CA     		ldm	r2, {r0, r1, r2}
 432 001e FFF7FEFF 		bl	flash_read_int
 433 0022 0246     		mov	r2, r0
 434              		.loc 1 57 25 discriminator 3
 435 0024 1549     		ldr	r1, .L23
 436 0026 7B68     		ldr	r3, [r7, #4]
 437 0028 41F82320 		str	r2, [r1, r3, lsl #2]
  56:Core/Src/preference_writer.c ****         __int_reg[offs] = flash_read_int(pr.fw, offs);
 438              		.loc 1 56 36 discriminator 3
 439 002c 7B68     		ldr	r3, [r7, #4]
 440 002e 0133     		adds	r3, r3, #1
 441 0030 7B60     		str	r3, [r7, #4]
 442              	.L19:
  56:Core/Src/preference_writer.c ****         __int_reg[offs] = flash_read_int(pr.fw, offs);
 443              		.loc 1 56 5 discriminator 1
 444 0032 7B68     		ldr	r3, [r7, #4]
 445 0034 FF2B     		cmp	r3, #255
 446 0036 EEDD     		ble	.L20
  58:Core/Src/preference_writer.c ****     }
  59:Core/Src/preference_writer.c ****     for(; offs < 320; offs++) {
 447              		.loc 1 59 5
 448 0038 13E0     		b	.L21
 449              	.L22:
  60:Core/Src/preference_writer.c ****         __float_reg[offs - 256] = flash_read_float(pr.fw, offs);
 450              		.loc 1 60 35 discriminator 2
 451 003a 7A68     		ldr	r2, [r7, #4]
 452              		.loc 1 60 26 discriminator 2
 453 003c 7B68     		ldr	r3, [r7, #4]
 454 003e A3F58074 		sub	r4, r3, #256
 455              		.loc 1 60 35 discriminator 2
 456 0042 1346     		mov	r3, r2
 457 0044 07F11802 		add	r2, r7, #24
 458 0048 07CA     		ldm	r2, {r0, r1, r2}
 459 004a FFF7FEFF 		bl	flash_read_float
 460 004e F0EE407A 		vmov.f32	s15, s0
 461              		.loc 1 60 33 discriminator 2
 462 0052 0B4A     		ldr	r2, .L23+4
 463 0054 A300     		lsls	r3, r4, #2
 464 0056 1344     		add	r3, r3, r2
ARM GAS  C:\Users\16323\AppData\Local\Temp\ccmVVPes.s 			page 10


 465 0058 C3ED007A 		vstr.32	s15, [r3]
  59:Core/Src/preference_writer.c ****         __float_reg[offs - 256] = flash_read_float(pr.fw, offs);
 466              		.loc 1 59 27 discriminator 2
 467 005c 7B68     		ldr	r3, [r7, #4]
 468 005e 0133     		adds	r3, r3, #1
 469 0060 7B60     		str	r3, [r7, #4]
 470              	.L21:
  59:Core/Src/preference_writer.c ****         __float_reg[offs - 256] = flash_read_float(pr.fw, offs);
 471              		.loc 1 59 5 discriminator 1
 472 0062 7B68     		ldr	r3, [r7, #4]
 473 0064 B3F5A07F 		cmp	r3, #320
 474 0068 E7DB     		blt	.L22
  61:Core/Src/preference_writer.c ****     }
  62:Core/Src/preference_writer.c **** }
 475              		.loc 1 62 1
 476 006a 00BF     		nop
 477 006c 00BF     		nop
 478 006e 0C37     		adds	r7, r7, #12
 479              	.LCFI37:
 480              		.cfi_def_cfa_offset 28
 481 0070 BD46     		mov	sp, r7
 482              	.LCFI38:
 483              		.cfi_def_cfa_register 13
 484              		@ sp needed
 485 0072 BDE89040 		pop	{r4, r7, lr}
 486              	.LCFI39:
 487              		.cfi_restore 14
 488              		.cfi_restore 7
 489              		.cfi_restore 4
 490              		.cfi_def_cfa_offset 16
 491 0076 04B0     		add	sp, sp, #16
 492              	.LCFI40:
 493              		.cfi_def_cfa_offset 0
 494 0078 7047     		bx	lr
 495              	.L24:
 496 007a 00BF     		.align	2
 497              	.L23:
 498 007c 00000000 		.word	__int_reg
 499 0080 00000000 		.word	__float_reg
 500              		.cfi_endproc
 501              	.LFE245:
 503              		.section	.text.preference_writer_close,"ax",%progbits
 504              		.align	1
 505              		.global	preference_writer_close
 506              		.syntax unified
 507              		.thumb
 508              		.thumb_func
 510              	preference_writer_close:
 511              	.LFB246:
  63:Core/Src/preference_writer.c **** 
  64:Core/Src/preference_writer.c **** void preference_writer_close(PreferenceWriter *pr) {
 512              		.loc 1 64 52
 513              		.cfi_startproc
 514              		@ args = 0, pretend = 0, frame = 8
 515              		@ frame_needed = 1, uses_anonymous_args = 0
 516 0000 80B5     		push	{r7, lr}
 517              	.LCFI41:
ARM GAS  C:\Users\16323\AppData\Local\Temp\ccmVVPes.s 			page 11


 518              		.cfi_def_cfa_offset 8
 519              		.cfi_offset 7, -8
 520              		.cfi_offset 14, -4
 521 0002 82B0     		sub	sp, sp, #8
 522              	.LCFI42:
 523              		.cfi_def_cfa_offset 16
 524 0004 00AF     		add	r7, sp, #0
 525              	.LCFI43:
 526              		.cfi_def_cfa_register 7
 527 0006 7860     		str	r0, [r7, #4]
  65:Core/Src/preference_writer.c ****     pr->ready = false;
 528              		.loc 1 65 15
 529 0008 7B68     		ldr	r3, [r7, #4]
 530 000a 0022     		movs	r2, #0
 531 000c 1A74     		strb	r2, [r3, #16]
  66:Core/Src/preference_writer.c ****     flash_writer_close(&pr->fw);
 532              		.loc 1 66 5
 533 000e 7B68     		ldr	r3, [r7, #4]
 534 0010 1846     		mov	r0, r3
 535 0012 FFF7FEFF 		bl	flash_writer_close
  67:Core/Src/preference_writer.c **** }
 536              		.loc 1 67 1
 537 0016 00BF     		nop
 538 0018 0837     		adds	r7, r7, #8
 539              	.LCFI44:
 540              		.cfi_def_cfa_offset 8
 541 001a BD46     		mov	sp, r7
 542              	.LCFI45:
 543              		.cfi_def_cfa_register 13
 544              		@ sp needed
 545 001c 80BD     		pop	{r7, pc}
 546              		.cfi_endproc
 547              	.LFE246:
 549              		.text
 550              	.Letext0:
 551              		.file 2 "d:\\st\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\machine\\_default
 552              		.file 3 "d:\\st\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 553              		.file 4 "Core/Inc/flash_writer.h"
 554              		.file 5 "Core/Inc/preference_writer.h"
 555              		.file 6 "Core/Inc/user_config.h"
ARM GAS  C:\Users\16323\AppData\Local\Temp\ccmVVPes.s 			page 12


DEFINED SYMBOLS
                            *ABS*:00000000 preference_writer.c
C:\Users\16323\AppData\Local\Temp\ccmVVPes.s:20     .data.__SECTOR_ADDRS:00000000 $d
C:\Users\16323\AppData\Local\Temp\ccmVVPes.s:23     .data.__SECTOR_ADDRS:00000000 __SECTOR_ADDRS
C:\Users\16323\AppData\Local\Temp\ccmVVPes.s:33     .data.__SECTORS:00000000 $d
C:\Users\16323\AppData\Local\Temp\ccmVVPes.s:36     .data.__SECTORS:00000000 __SECTORS
C:\Users\16323\AppData\Local\Temp\ccmVVPes.s:46     .text.preference_writer_init:00000000 $t
C:\Users\16323\AppData\Local\Temp\ccmVVPes.s:52     .text.preference_writer_init:00000000 preference_writer_init
C:\Users\16323\AppData\Local\Temp\ccmVVPes.s:95     .text.preference_writer_open:00000000 $t
C:\Users\16323\AppData\Local\Temp\ccmVVPes.s:101    .text.preference_writer_open:00000000 preference_writer_open
C:\Users\16323\AppData\Local\Temp\ccmVVPes.s:141    .text.preference_writer_ready:00000000 $t
C:\Users\16323\AppData\Local\Temp\ccmVVPes.s:147    .text.preference_writer_ready:00000000 preference_writer_ready
C:\Users\16323\AppData\Local\Temp\ccmVVPes.s:188    .text.preference_writer_write_int:00000000 $t
C:\Users\16323\AppData\Local\Temp\ccmVVPes.s:194    .text.preference_writer_write_int:00000000 preference_writer_write_int
C:\Users\16323\AppData\Local\Temp\ccmVVPes.s:235    .text.preference_writer_write_int:00000020 $d
C:\Users\16323\AppData\Local\Temp\ccmVVPes.s:240    .text.preference_writer_write_float:00000000 $t
C:\Users\16323\AppData\Local\Temp\ccmVVPes.s:246    .text.preference_writer_write_float:00000000 preference_writer_write_float
C:\Users\16323\AppData\Local\Temp\ccmVVPes.s:289    .text.preference_writer_write_float:00000024 $d
C:\Users\16323\AppData\Local\Temp\ccmVVPes.s:294    .text.preference_writer_flush:00000000 $t
C:\Users\16323\AppData\Local\Temp\ccmVVPes.s:300    .text.preference_writer_flush:00000000 preference_writer_flush
C:\Users\16323\AppData\Local\Temp\ccmVVPes.s:387    .text.preference_writer_flush:00000070 $d
C:\Users\16323\AppData\Local\Temp\ccmVVPes.s:393    .text.preference_writer_load:00000000 $t
C:\Users\16323\AppData\Local\Temp\ccmVVPes.s:399    .text.preference_writer_load:00000000 preference_writer_load
C:\Users\16323\AppData\Local\Temp\ccmVVPes.s:498    .text.preference_writer_load:0000007c $d
C:\Users\16323\AppData\Local\Temp\ccmVVPes.s:504    .text.preference_writer_close:00000000 $t
C:\Users\16323\AppData\Local\Temp\ccmVVPes.s:510    .text.preference_writer_close:00000000 preference_writer_close

UNDEFINED SYMBOLS
flash_writer_init
flash_writer_open
__int_reg
__float_reg
flash_writer_write_int
flash_writer_write_float
flash_read_int
flash_read_float
flash_writer_close
